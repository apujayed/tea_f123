(this["webpackJsonpreact-dashboard"]=this["webpackJsonpreact-dashboard"]||[]).push([[16],{135:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(6),s=n(7),i=n(0),o=n(9),u=n.n(o),l=n(100),d=n(1),b=Object(l.a)("http://localhost:3009");t.default=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),n=(t[0],t[1],Object(i.useState)(45)),c=Object(s.a)(n,1)[0],o=Object(i.useState)(null),l=Object(s.a)(o,2),j=l[0],h=l[1],f=Object(i.useState)(new Date),p=Object(s.a)(f,2),O=p[0],m=p[1],v=Object(i.useState)(c),T=Object(s.a)(v,2),g=T[0],x=T[1],w=Object(i.useState)(0),S=Object(s.a)(w,2),E=S[0],k=S[1];Object(i.useEffect)((function(){return b.on("endTimeUpdated",(function(e){console.log(e),h(new Date(e.endTime).getTime())})),function(){b.disconnect()}}),[]),Object(i.useEffect)((function(){(function(){var e=Object(a.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("http://localhost:3009/api/getEndTime");case 3:t=e.sent,(n=t.data.endTime)&&h(new Date(Number(n)).getTime()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching endTime:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.useEffect)((function(){if(j){var e=setInterval((function(){var t=new Date;m(t);var n=Math.floor((j-t.getTime())/1e3);n<=0?(clearInterval(e),x(0)):(x(n),k(Math.ceil(n/15)))}),1e3);return function(){return clearInterval(e)}}}),[j]);var D=function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTime()+1e3*c,e.prev=1,e.next=4,u.a.post("http://localhost:3009/api/saveEndTime",{dbSave:t});case 4:console.log("EndTime saved successfully"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error saving endTime:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),y=Array.from({length:g},(function(e,t){return(g-t)%15||15}))[0];return Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Time to Add (in seconds): ",c]}),Object(d.jsxs)("p",{children:["End Time: ",j?new Date(j).toLocaleTimeString():"Fetching..."]}),Object(d.jsxs)("p",{children:["Current Time: ",O.toLocaleTimeString()]}),g>=0&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{children:["First Countdown Result: ",y]}),Object(d.jsxs)("p",{children:["Result of Remaining Seconds / 15: ",E]}),Object(d.jsx)("button",{onClick:D,children:"Save EndTime"})]}),0===g&&Object(d.jsx)("p",{children:"Countdown has reached the end time."})]})}}}]);
//# sourceMappingURL=16.4c75e302.chunk.js.map