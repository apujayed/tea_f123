{"version":3,"sources":["pages/profile/ChangePassword.js"],"names":["ChangePassword","_useState","useState","previousPassword","newPassword","confirmPassword","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","errorMessage","setErrorMessage","_useState5","_useState6","showPassword","setShowPassword","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","_jsx","_Fragment","children","className","_jsxs","onSubmit","preventDefault","axios","post","concat","process","then","res","data","success","alert","message","htmlFor","type","onChange","required","onClick","prevShowPassword","FontAwesomeIcon","icon","faEyeSlash","faEye"],"mappings":"4MAuJeA,UAlJQ,WACrB,IAAiDC,EACjBC,mBAAS,CACvCC,iBAAkB,GAClBC,YAAa,GACbC,gBAAiB,KACjBC,EAAAC,YAAAN,EAAA,GAJKO,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAAAI,EAKYR,mBAAS,IAAGS,EAAAJ,YAAAG,EAAA,GAA7CE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAAAG,EACIZ,oBAAS,GAAMa,EAAAR,YAAAO,EAAA,GAAhDE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAE9BG,EAAe,SAACC,GAAO,IAADC,EACFD,EAAEE,OAAlBC,EAAIF,EAAJE,KAAMC,EAAKH,EAALG,MACdd,EAAWe,wBAAC,GAAKhB,GAAQ,GAAAiB,YAAA,GAAGH,EAAOC,KACnCV,EAAgB,KAgClB,OACEa,cAAAC,WAAA,CAAAC,SACEF,cAAA,WAASG,UAAU,6BAA4BD,SAC7CF,cAAA,OAAKG,UAAU,iBAAgBD,SAE7BF,cAAA,OAAKG,UAAU,yBAAwBD,SACrCE,eAAA,QAAMC,SAnCK,SAACZ,GACpBA,EAAEa,iBAGExB,EAASJ,cAAgBI,EAASH,gBAMtC4B,IAAMC,KAAK,GAADC,OAzBIC,2BAyBO,kBAAkB5B,GAAU6B,MAAK,SAACC,GACjDA,EAAIC,KAAKC,SACXC,MAAM,kCAENhC,EAAY,CACVN,iBAAkB,GAClBC,YAAa,GACbC,gBAAiB,MAGnBQ,EAAgByB,EAAIC,KAAKG,YAf3B7B,EAAgB,kDA8BmBe,SAAA,CAE3BF,cAAA,OAAKG,UAAU,2BAA0BD,SACvCF,cAAA,MAAIG,UAAU,YAAWD,SAAC,sBAE5BF,cAAA,OAAKG,UAAU,2BAA0BD,SACvCF,cAAA,OAAKG,UAAU,MAAKD,SAClBE,eAAA,OAAKD,UAAU,WAAUD,SAAA,CACvBE,eAAA,OAAKD,UAAU,aAAYD,SAAA,CACzBF,cAAA,SACEiB,QAAQ,mBACRd,UAAU,yBAAwBD,SACnC,aAGDF,cAAA,OAAKG,UAAU,WAAUD,SACvBF,cAAA,SACEkB,KAAM5B,EAAe,OAAS,WAC9BM,KAAK,mBACLC,MAAOf,EAASL,iBAChB0C,SAAU3B,EACV4B,UAAQ,EACRjB,UAAU,sBAKhBC,eAAA,OAAKD,UAAU,aAAYD,SAAA,CACzBF,cAAA,SACEiB,QAAQ,cACRd,UAAU,yBAAwBD,SACnC,iBAGDF,cAAA,OAAKG,UAAU,WAAUD,SACvBF,cAAA,SACEkB,KAAM5B,EAAe,OAAS,WAC9BM,KAAK,cACLC,MAAOf,EAASJ,YAChByC,SAAU3B,EACV4B,UAAQ,EACRjB,UAAU,sBAIhBC,eAAA,OAAKD,UAAU,aAAYD,SAAA,CACzBF,cAAA,SACEiB,QAAQ,kBACRd,UAAU,yBAAwBD,SACnC,qBAGDF,cAAA,OAAKG,UAAU,WAAUD,SACvBF,cAAA,SACEkB,KAAM5B,EAAe,OAAS,WAC9BM,KAAK,kBACLC,MAAOf,EAASH,gBAChBwC,SAAU3B,EACV4B,UAAQ,EACRjB,UAAU,sBAIhBH,cAAA,OAAKG,UAAU,aAAYD,SACzBF,cAAA,OAAKG,UAAU,2BAA0BD,SACvCF,cAAA,UACEkB,KAAK,SACLG,QA7EG,WACzB9B,GAAgB,SAAC+B,GAAgB,OAAMA,MA6EjBnB,UAAU,eAAcD,SAExBF,cAACuB,IAAe,CACdC,KAAMlC,EAAemC,IAAaC,mBAQ/CxC,GAAgBc,cAAA,KAAAE,SAAIhB,IAErBc,cAAA,OAAKG,UAAU,aAAYD,SACzBF,cAAA,UAAQkB,KAAK,SAASf,UAAU,kBAAiBD,SAAC","file":"static/js/18.76f777de.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEye, faEyeSlash } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst ChangePassword = () => {\r\n  const API_URL = process.env.REACT_APP_SERVER_URL;\r\n  const [formData, setFormData] = useState({\r\n    previousPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    setErrorMessage(\"\");\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Password validation\r\n    if (formData.newPassword !== formData.confirmPassword) {\r\n      setErrorMessage(\"New password and Confirm password must match.\");\r\n      return;\r\n    }\r\n\r\n    // Make API call to verify previous password and update new password\r\n    axios.post(`${API_URL}/resetpassword`, formData).then((res) => {\r\n      if (res.data.success) {\r\n        alert(\"Password updated successfully.\");\r\n        // Reset form after successful password change\r\n        setFormData({\r\n          previousPassword: \"\",\r\n          newPassword: \"\",\r\n          confirmPassword: \"\",\r\n        });\r\n      } else {\r\n        setErrorMessage(res.data.message);\r\n      }\r\n    });\r\n  };\r\n\r\n  const toggleShowPassword = () => {\r\n    setShowPassword((prevShowPassword) => !prevShowPassword);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"col-lg-7 connectedSortable\">\r\n        <div className=\"box box-danger\">\r\n          {/* Tabs within a box */}\r\n          <div className=\"tab-content no-padding\">\r\n            <form onSubmit={handleSubmit}>\r\n              {/* Morris chart - Sales */}\r\n              <div className=\"box-header header-custom\">\r\n                <h3 className=\"box-title\">Change Password</h3>\r\n              </div>\r\n              <div className=\"box-body form-horizontal\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"form-group\">\r\n                      <label\r\n                        htmlFor=\"previousPassword\"\r\n                        className=\"col-sm-3 control-label\"\r\n                      >\r\n                        Previous\r\n                      </label>\r\n                      <div className=\"col-sm-9\">\r\n                        <input\r\n                          type={showPassword ? \"text\" : \"password\"}\r\n                          name=\"previousPassword\"\r\n                          value={formData.previousPassword}\r\n                          onChange={handleChange}\r\n                          required\r\n                          className=\"form-control\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label\r\n                        htmlFor=\"newPassword\"\r\n                        className=\"col-sm-3 control-label\"\r\n                      >\r\n                        New Password\r\n                      </label>\r\n                      <div className=\"col-sm-9\">\r\n                        <input\r\n                          type={showPassword ? \"text\" : \"password\"}\r\n                          name=\"newPassword\"\r\n                          value={formData.newPassword}\r\n                          onChange={handleChange}\r\n                          required\r\n                          className=\"form-control\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label\r\n                        htmlFor=\"confirmPassword\"\r\n                        className=\"col-sm-3 control-label\"\r\n                      >\r\n                        Confirm Password\r\n                      </label>\r\n                      <div className=\"col-sm-9\">\r\n                        <input\r\n                          type={showPassword ? \"text\" : \"password\"}\r\n                          name=\"confirmPassword\"\r\n                          value={formData.confirmPassword}\r\n                          onChange={handleChange}\r\n                          required\r\n                          className=\"form-control\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <div className=\"col-sm-9 col-sm-offset-3\">\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={toggleShowPassword}\r\n                          className=\"btn btn-link\"\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            icon={showPassword ? faEyeSlash : faEye}\r\n                          />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {errorMessage && <p>{errorMessage}</p>}\r\n              {/* /.box-body */}\r\n              <div className=\"box-footer\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">\r\n                  Change\r\n                </button>\r\n              </div>\r\n              {/* /.box-footer */}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n"],"sourceRoot":""}