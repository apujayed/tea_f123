{"version":3,"sources":["assets/message.mp3","assets/starttune.mp3","components/ModalBroker/Modal.js","components/reuseable/LotCardComponent.js","pages/auction/ViewList.js","pages/Auction.js"],"names":["ModalBroker","props","_useState","useState","filteredData","_useState2","_slicedToArray","_useState3","_useState4","modalRef","useRef","closeOnEscapeKeyDown","e","charCode","keyCode","onClose","useEffect","document","body","addEventListener","removeEventListener","_jsx","_Fragment","children","CSSTransition","nodeRef","in","show","unmountOnExit","timeout","enter","exit","className","onClick","ref","_jsxs","stopPropagation","title","scope","map","el","index","lot","factory_name","maximum_bid","buyer_name","sold_status","type","onV","aria-hidden","id","LotCardComponent","_ref","sl","users","handleSoldstatus","formatTime","time","invoice","grade","style","color","lirating_name","lrating_name","price","concat","pkgs","buyer","link_id","disabled","brokers","FaRegCheckSquare","FaRegWindowClose","socket","io","connect","process","ViewList","show2","setShow2","API_URL","auction_data","useSelector","state","auction","usersString","localStorage","getItem","JSON","parse","checkedItemName","setCheckedItemName","_useState5","_useState6","setCheckedItemid","_useState7","_useState8","setActivebroker","_useState9","_useState10","list","setList","_useState11","_useState12","setrawList","_useState13","_useState14","startIndex","_useState15","_useState16","_useState17","_useState18","activeUsers","setActiveUsers","_useState19","_useState20","setVisible","_useState21","_useState22","setShowPopup","_useState23","_useState24","_useState25","_useState26","_useState27","_useState28","bidloading","setbidLoading","_useState29","_useState30","startBloading","useDispatch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","status","value","brokerResponse","wrap","_context","prev","next","axios","put","get","sent","emit","data","current_brokers","on","filter","item","t0","console","log","stop","_x","_x2","apply","arguments","openLot2","_ref2","_callee2","response","_context2","filteredDatabrokers","_useState31","_useState32","message","setMessage","fetchData","_ref3","_callee3","_response$data$","name","userToggleListener","_context3","Promise","all","userId","abrupt","off","isMounted","handleActiveUsers","count","_useState33","secondsToAdd","_useState35","_useState36","endTime","setEndTime","_useState37","Date","_useState38","setCurrentTime","_useState39","_useState40","remainingSeconds","setRemainingSeconds","_useState41","_useState42","result","setResult","getTime","disconnect","cancelTokenSource","CancelToken","source","fetchEndTime","_ref4","_callee4","fetchedEndTime","_context4","cancelToken","token","Number","error","_ref5","_callee5","ress","_context5","fetchInitialList","cancel","interval","setInterval","now","remainingTime","Math","floor","clearInterval","ceil","handleSaveEndTime","_ref6","_callee6","dbSave","_context6","length","post","firstCountdownResult","Array","from","_","objectToShow","date","sale_no","season","minutes","toString","padStart","seconds","short_name","htmlFor","onChange","target","placeholder","paddingRight","backgroundColor","padding","fontSize","isArray","height","display","flexDirection","justifyContent","alignItems","ReactLoading","width","marginTop","fontWeight","Auction","history","useNavigate","sessionStorage"],"mappings":"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","file":"static/js/10.fb4a2657.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/message.17f316c9.mp3\";","export default __webpack_public_path__ + \"static/media/starttune.99619dc2.mp3\";","import React, { useEffect, useState, useRef } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport \"./Modal.css\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst ModalBroker = (props) => {\r\n  const [modaldata, setmodaldata] = useState(props.filteredData);\r\n  const [update, setUpdate] = useState(false);\r\n  const API_URL = process.env.REACT_APP_SERVER_URL;\r\n  const handleSoldstatus = async (el, status) => {\r\n    setUpdate(true);\r\n    const id = el.id;\r\n    const value = status;\r\n\r\n    await axios\r\n      .put(`${API_URL}/updatesold`, {\r\n        id: id,\r\n        status: value,\r\n      })\r\n      .then((response) => {\r\n        axios\r\n          .get(`${API_URL}/catalougedata`)\r\n          .then((response) => {\r\n            props.onClose();\r\n            setmodaldata(response.data);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const modalRef = useRef(null);\r\n\r\n  const closeOnEscapeKeyDown = (e) => {\r\n    if ((e.charCode || e.keyCode) === 27) {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.body.addEventListener(\"keydown\", closeOnEscapeKeyDown);\r\n    return function cleanup() {\r\n      document.body.removeEventListener(\"keydown\", closeOnEscapeKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <CSSTransition\r\n        nodeRef={modalRef}\r\n        in={props.show}\r\n        unmountOnExit\r\n        timeout={{ enter: 0, exit: 300 }}\r\n      >\r\n        <div className=\"modal\" onClick={props.onClose} ref={modalRef}>\r\n          <div\r\n            className=\"modal-content\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">{props.title}</h4>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <table className=\"modaltable table-bordered\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Lot</th>\r\n                    <th scope=\"col\">Factory</th>\r\n                    <th scope=\"col\">Price</th>\r\n                    <th scope=\"col\">Bidder</th>\r\n                    <th scope=\"col\">Status</th>\r\n                    <th scope=\"col\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {props.filteredData.map((el, index) => (\r\n                    <tr key={el.id}>\r\n                      <td scope=\"row\">\r\n                        <h4>{index + 1}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{el.lot}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{el.factory_name}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{el.maximum_bid}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{el.buyer_name}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <span\r\n                          className={\r\n                            el.sold_status === 1\r\n                              ? \"hname\"\r\n                              : el.sold_status === 0\r\n                              ? \"rname\"\r\n                              : \"rname\"\r\n                          }\r\n                        >\r\n                          {el.sold_status === 1\r\n                            ? \"Sold\"\r\n                            : el.sold_status === 0\r\n                            ? \"Unsold\"\r\n                            : \"Pending\"}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => props.onV(el, 1)}\r\n                          className=\"btn btn-success px-3\"\r\n                        >\r\n                          <i className=\"fas fa-check\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => props.onV(el, 0)}\r\n                          className=\"btn btn-danger px-3\"\r\n                        >\r\n                          <i className=\"fas fa-times\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                        {/* <button\r\n                          type=\"button\"\r\n                          onClick={() => props.reAuc(el)}\r\n                          className=\"btn btn-info px-3\"\r\n                        >\r\n                          <i className=\"fas fa-spinner\" aria-hidden=\"true\"></i>\r\n                        </button> */}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button onClick={props.onClose} className=\"btn btn-danger\">\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModalBroker;\r\n","import React from 'react'\r\nimport {FaRegWindowClose,\r\n    FaRegCheckSquare,\r\n    } from \"react-icons/fa\";\r\n    const LotCardComponent = ({ sl,el, users, handleSoldstatus, formatTime, time ,index}) => (\r\n      <tr>\r\n              <td className=\"text-center\">\r\n                {el.lot}\r\n                <br />\r\n                {el.invoice}\r\n              </td>\r\n              <td className=\"text-center\">\r\n                {el.factory_name}\r\n                <br />\r\n                ({el.grade}) Rating: <span style={{ color: 'purple' }}>({el.lirating_name})</span>\r\n<span style={{ color: 'navy' }}>({el.lrating_name})</span>\r\n\r\n              </td>\r\n              <td className=\"text-center\">\r\n                {el.price}\r\n                <br />\r\n                {`(${el.pkgs})`}\r\n              </td>\r\n              <td className=\"text-center\">\r\n              <div className=\"bidd_name\">\r\n                      <p className=\"highest\">{el.maximum_bid}</p>\r\n                      <span\r\n                        className={\r\n                          el.buyer == users.link_id ? \"hname\" : \"rname\"\r\n                        }\r\n                      >\r\n                        {el.buyer_name}({el.maximum_bid - el.price})\r\n                      </span>\r\n                    </div>\r\n\r\n                    <br />\r\n              </td>\r\n\r\n              <td className=\"text-center\">\r\n               \r\n              <div className=\"col-md-12 d-flex justify-content-center align-items-center col-sm-12 col-xs-12\">\r\n\r\n                  <div className=\"\">\r\n                    <button\r\n                      onClick={() => handleSoldstatus(el, 1)}\r\n                      disabled={el.brokers === users.link_id ? false : true}\r\n                      className={\r\n                        el.sold_status === 1\r\n                          ? \"btn-success square-circle mr-4\"\r\n                          : el.sold_status === 2\r\n                          ? \" btn-warning square-circle mr-4\"\r\n                          : \" btn-warning square-circle mr-4\"\r\n                      }\r\n                    >\r\n                      <FaRegCheckSquare className=\"bid\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleSoldstatus(el, 0)}\r\n                      disabled={el.brokers === users.link_id ? false : true}\r\n                      className=\" btn-danger square-circle\"\r\n                    >\r\n                      <FaRegWindowClose className=\"bid\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n      );\r\n      \r\n\r\nexport default LotCardComponent\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport music from \"../../assets/message.mp3\";\r\nimport notify from \"../../assets/starttune.mp3\";\r\nimport io from \"socket.io-client\";\r\nimport ModalBroker from \"../../components/ModalBroker/Modal\";\r\nimport ReactLoading from \"react-loading\";\r\nimport { throttle } from \"lodash\";\r\nimport { getAuctiondetails } from \"../../store/auctionSlice\";\r\nimport LotCardComponent from \"../../components/reuseable/LotCardComponent\";\r\n\r\nconst socket = io.connect(process.env.REACT_APP_SERVER_URL);\r\nconst ViewList = () => {\r\n  const [show2, setShow2] = useState(false);\r\n  const API_URL = process.env.REACT_APP_SERVER_URL;\r\n  const { auction_data } = useSelector((state) => state.auction);\r\n  const usersString = localStorage.getItem(\"users\");\r\n  const users = JSON.parse(usersString);\r\n  const [checkedItemName, setCheckedItemName] = useState(\"\");\r\n  const [checkedItemid, setCheckedItemid] = useState(\"\");\r\n  const [activebroker, setActivebroker] = useState();\r\n  const [list, setList] = useState([]);\r\n  const [rawlist, setrawList] = useState([]);\r\n  const [startIndex, setStartIndex] = useState(0);\r\n  const [endIndex, setEndIndex] = useState(1);\r\n  const [activeUsers, setActiveUsers] = useState(0);\r\n  const [visible, setVisible] = useState(false);\r\n  const [showPopup, setShowPopup] = useState(true);\r\n  const [time, setTime] = useState(0);\r\n  const [isRunning, setIsRunning] = useState(false);\r\n\r\n  const [bidloading, setbidLoading] = useState(false);\r\n  const [startBloading, setstartBloading] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSoldstatus = async (el, status) => {\r\n    try {\r\n      setbidLoading(true);\r\n      const id = el.id;\r\n      const value = status;\r\n\r\n      await axios.put(`${API_URL}/updatesold`, {\r\n        id: id,\r\n        status: value,\r\n      });\r\n\r\n      const brokerResponse = await axios.get(`${API_URL}/getselectbroker`);\r\n      socket.emit(\"user\", brokerResponse.data[0].current_brokers);\r\n      setbidLoading(false);\r\n\r\n      socket.on(\"users\", (data) => {\r\n        const filteredData = data.filter((item) => item.sold_status === 0);\r\n        setList(data);\r\n        setrawList(data);\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //bidders modal\r\n  const openLot2 = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/getselectbroker`);\r\n      socket.emit(\"user\", response.data[0].current_brokers);\r\n      setShow2(true);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const filteredDatabrokers = list;\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/getselectbroker`);\r\n      const { auction, current_brokers, name, id } = response.data[0];\r\n\r\n      if (auction === 0) {\r\n        setShowPopup(true);\r\n      } else {\r\n        setShowPopup(false);\r\n      }\r\n\r\n      await Promise.all([\r\n        setCheckedItemName(name),\r\n        setCheckedItemid(id),\r\n        setActivebroker(current_brokers),\r\n      ]);\r\n\r\n      socket.emit(\"user\", current_brokers);\r\n      // socket.emit(\"user_toggle\", current_brokers); need\r\n\r\n      const userToggleListener = (userId) => {\r\n        setVisible(userId === users.link_id);\r\n      };\r\n\r\n      socket.on(\"user_toggle\", userToggleListener);\r\n\r\n      // Cleanup function\r\n      return () => {\r\n        socket.off(\"users\", current_brokers);\r\n        // Remove the userToggleListener when the component unmounts\r\n        socket.off(\"user_toggle\", userToggleListener);\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    fetchData();\r\n    socket.on(\"checkname\", (data) => {\r\n      if (isMounted) {\r\n        setCheckedItemName(data);\r\n      }\r\n    });\r\n    socket.on(\"users\", (data) => {\r\n      // console.log('thn');\r\n      if (isMounted) {\r\n        const filteredData = data.filter((item) => item.sold_status === 0);\r\n        setList(data);\r\n        setrawList(data);\r\n      }\r\n    });\r\n    const handleActiveUsers = (count) => {\r\n      setActiveUsers(count);\r\n    };\r\n    socket.on(\"activeUsers\", handleActiveUsers);\r\n    return () => {\r\n      isMounted = false;\r\n      socket.off(\"checkname\");\r\n      socket.on(\"activeUsers\", handleActiveUsers);\r\n      // socket.off(\"users\")\r\n    };\r\n  }, [socket]);\r\n\r\n  // new method\r\n\r\n  const [secondsToAdd] = useState(60); // Number of seconds to add to current time\r\n\r\n  const [endTime, setEndTime] = useState(null); // Initialize endTime as null\r\n  const [currentTime, setCurrentTime] = useState(new Date());\r\n  const [remainingSeconds, setRemainingSeconds] = useState(secondsToAdd);\r\n  const [result, setResult] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // Listen for the 'endTimeUpdated' event from the server\r\n    socket.on(\"endTimeUpdated\", (data) => {\r\n      console.log(data);\r\n      setEndTime(new Date(data.endTime).getTime());\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n   \r\n    const cancelTokenSource = axios.CancelToken.source();\r\n\r\n    const fetchEndTime = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://68.183.81.28:3009/api/getEndTime\", {\r\n            cancelToken: cancelTokenSource.token\r\n          }\r\n        ); // Replace with your API endpoint\r\n        const fetchedEndTime = response.data.endTime;\r\n        if (fetchedEndTime) {\r\n          setEndTime(new Date(Number(fetchedEndTime)).getTime());\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching endTime:\", error);\r\n      }\r\n    };\r\n\r\n    const fetchInitialList = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://68.183.81.28:3009/catalougedata\", {\r\n            cancelToken: cancelTokenSource.token\r\n          }\r\n        ); // Replace with your API endpoint\r\n        const ress = response.data;\r\n        if (ress) {\r\n        \r\n          setList(ress);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.error(\"Errors fetching endTime:\", error);\r\n      }\r\n    };\r\n\r\n\r\n    fetchInitialList();\r\n    fetchEndTime();\r\n    return () => {\r\n      cancelTokenSource.cancel(\"Component unmounted\");\r\n    };\r\n  },[]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (endTime) {\r\n      const interval = setInterval(() => {\r\n        const now = new Date();\r\n        setCurrentTime(now);\r\n\r\n        const remainingTime = Math.floor((endTime - now.getTime()) / 1000);\r\n\r\n        if (remainingTime <= 0) {\r\n          clearInterval(interval); // Clear interval when remaining time reaches zero\r\n          setRemainingSeconds(0); // Set remaining seconds to zero\r\n        } else {\r\n          setRemainingSeconds(remainingTime);\r\n          setResult(Math.ceil(remainingTime / 60)); // Calculate and set the result using Math.ceil\r\n        }\r\n      }, 1000); // Update every 1 second\r\n\r\n      return () => clearInterval(interval); // Clean up the interval when component unmounts\r\n    }\r\n  }, [endTime]);\r\n\r\n  const handleSaveEndTime = async () => {\r\n    const dbSave = new Date().getTime() + list.length * 60 * 1000;\r\n    try {\r\n      await axios.post(\"http://68.183.81.28:3009/api/saveEndTime\", { dbSave }); // Replace with your API endpoint and data\r\n      console.log(\"EndTime saved successfully\");\r\n    } catch (error) {\r\n      console.error(\"Error saving endTime:\", error);\r\n    }\r\n  };\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60)\r\n      .toString()\r\n      .padStart(2, \"0\");\r\n    const seconds = (time % 60).toString().padStart(2, \"0\");\r\n    return `${minutes}:${seconds}`;\r\n  };\r\n  const countdownDisplay = Array.from(\r\n    { length: remainingSeconds },\r\n    (_, index) => (remainingSeconds - index) % 60 || 60\r\n  );\r\n  const firstCountdownResult = countdownDisplay[0];\r\n\r\n  const objectToShow = list[result - 1];\r\n\r\n  return (\r\n    <>\r\n      {/* <div>\r\n        <p>Time to Add (in seconds): {secondsToAdd}</p>\r\n        <p>\r\n          End Time:{\" \"}\r\n          {endTime ? new Date(endTime).toLocaleTimeString() : \"Fetching...\"}\r\n        </p>\r\n        <p>Current Time: {currentTime.toLocaleTimeString()}</p>\r\n        {remainingSeconds >= 0 && (\r\n          <>\r\n            <p>First Countdown Result: {firstCountdownResult}</p>\r\n            <p>Result of Remaining Seconds / 60: {result}</p>\r\n            <button onClick={handleSaveEndTime}>Save EndTime</button>\r\n          </>\r\n        )}\r\n        {remainingSeconds === 0 && <p>Countdown has reached the end time.</p>}\r\n      </div> */}\r\n      {checkedItemName === users.name ? (\r\n        <>\r\n          {bidloading ? (\r\n            <>\r\n              <div className=\"overlay\">\r\n                <div className=\"spinner-container\">\r\n                  <div className=\"spinner\"></div>\r\n                  <span>aaVerifying data...</span>\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {!list ? (\r\n            <>\r\n              <div\r\n                style={{\r\n                  height: \"100vh\",\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <ReactLoading\r\n                  type={\"spin\"}\r\n                  color={\"#007bff\"}\r\n                  height={50}\r\n                  width={50}\r\n                />\r\n                <div\r\n                  style={{\r\n                    marginTop: \"20px\",\r\n                    fontSize: \"16px\",\r\n                    fontWeight: \"bold\",\r\n                  }}\r\n                >\r\n                  aasVerifying Data...\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <ModalBroker\r\n                title=\"Brokers Lot\"\r\n                onClose={() => setShow2(false)}\r\n                show={show2}\r\n                filteredData={filteredDatabrokers}\r\n                onV={handleSoldstatus}\r\n                // reAuc={reAuction}\r\n              ></ModalBroker>\r\n\r\n              <div className=\"section-head sec-h\">\r\n                <p className=\"br-n\">={checkedItemName}=</p>\r\n                <div className=\"row newc\">\r\n                  <div className=\"col-7 col-md-9 card-btn leftCard\">\r\n                    <h2>\r\n                      Auction Date:{\" \"}\r\n                      {auction_data.length === 0 ? \"\" : auction_data[0].date}{\" \"}\r\n                    </h2>\r\n                    <p>\r\n                      SALE NO - #\r\n                      {auction_data.length === 0 ? \"\" : auction_data[0].sale_no}{\" \"}\r\n                    </p>\r\n                    <p>PARTICIPATE - #{activeUsers} </p>\r\n                    <p>\r\n                      Season - #\r\n                      {auction_data.length === 0 ? \"\" : auction_data[0].season}{\" \"}\r\n                    </p>\r\n                    <p>\r\n                      CURRENT BROKER :{\" \"}\r\n                      <span className=\"c_brokers\">{checkedItemName}</span>{\" \"}\r\n                    </p>\r\n\r\n                    <div className=\" row margin-left\">\r\n                      {users.type === \"BROKERS\" ? (\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={openLot2}\r\n                          className=\"col-5  buttonGroup btn btn-primary  my-btn\"\r\n                        >\r\n                          All\r\n                        </button>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-5 col-md-3 align-items-center justify-content-center mt-5 rCard\">\r\n                    <div className=\"bflex card-btn rightButton\">\r\n                      <div className=\"button-row\">\r\n                        <button\r\n                          disabled={startBloading}\r\n                          type=\"button\"\r\n                          onClick={handleSaveEndTime}\r\n                          className=\"buttonGroup btn btn-primary my-btn\"\r\n                        >\r\n                          START\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-12\">\r\n                      <div className=\"card\">\r\n                        <div className=\"row rightCard\">\r\n                          <div className=\" \">\r\n                            <div className=\"col-md-6 count-t\">\r\n                              <h2 className=\"text-center mh2\">\r\n                              {formatTime(firstCountdownResult?firstCountdownResult:0)}\r\n                              </h2>\r\n                            </div>\r\n                            <div className=\"col-md-6 name-t\">\r\n                              <h2 className=\"mh2 text-center\">\r\n                                {users.short_name}\r\n                              </h2>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"card p-3\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-6 col-md-3 d-flex justify-content-start align-items-center\">\r\n                    <div className=\"col\">\r\n                      <label\r\n                        className=\"visually-hidden\"\r\n                        htmlFor=\"inline-form-website\"\r\n                      >\r\n                        Message\r\n                      </label>\r\n                      <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        value={message}\r\n                        onChange={(e) => setMessage(e.target.value)}\r\n                        placeholder=\"Message\"\r\n                      />{\" \"}\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      {/* <button type=\"submit\" onClick={(e)=>handleMessageSubmit(e,message)} className=\"btn btn-primary\">Send</button> */}\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    className=\"col-6 col-md-9 d-flex justify-content-end\"\r\n                    style={{ paddingRight: \"20px\" }}\r\n                  >\r\n                    <span\r\n                      style={{\r\n                        backgroundColor: \"black\",\r\n                        color: \"white\",\r\n                        padding: \"5px\",\r\n                        fontSize: \"12px\",\r\n                      }}\r\n                    >\r\n                      Last Message\r\n                    </span>\r\n                    {/* <span style={{ backgroundColor: 'white',color:'black', padding: '5px', fontSize: '12px' }}>{messages.message}</span>\r\n          <span style={{ backgroundColor: '#6f6fc4',color:'white', padding: '5px', fontSize: '12px' }}>{messages.u_id}</span> */}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <h2 className=\"text-center p-h\">-={users.type} PANEL=- </h2>\r\n              <hr className=\"hr-h\" />\r\n              <div className=\"con\">\r\n                <div className=\"row g-1\">\r\n                  <table id=\"auction\" className=\"table table-bordered\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th scope=\"col\">\r\n                          Lot <br />\r\n                          Invoice\r\n                        </th>\r\n                        <th scope=\"col\">\r\n                          Factory\r\n                          <br />\r\n                          Grade\r\n                        </th>\r\n                        <th scope=\"col\">\r\n                          Price\r\n                          <br />\r\n                          Qty\r\n                        </th>\r\n                        <th scope=\"col\">\r\n                          Highest\r\n                          <br /> Buyer\r\n                        </th>\r\n\r\n                        <th scope=\"col\">Bid</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {objectToShow ? (\r\n                        <LotCardComponent\r\n                          sl={startIndex}\r\n                          el={objectToShow}\r\n                          users={users}\r\n                          handleSoldstatus={handleSoldstatus}\r\n                          formatTime={\"\"}\r\n                          time={time} // Add the time prop here\r\n                        />\r\n                      ) : (\r\n                        <p>No object to show.</p>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div className=\"\">\r\n                  <div className=\"row\">\r\n                     {Array.isArray(objectToShow) &&\r\n    objectToShow.map((el, index) => (\r\n      <div className=\"col-12 col-md-12\" key={index++}>\r\n      <div className=\"card\">\r\n        <div\r\n          className={\r\n            el.sold_status === 1\r\n              ? \"rem-card-y\"\r\n              : \"rem-card-x\"\r\n          }\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-8\">\r\n              <div className=\"col-12\">\r\n                <p className=\"rem-text\">\r\n                  {el.factory_name} ({el.lot})\r\n                </p>\r\n              </div>\r\n              <div className=\"col-12\">\r\n                <p className=\"rem-text\">\r\n                  {el.buyer_name}(\r\n                  {el.maximum_bid - el.price})\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4 d-flex align-items-center justify-content-center\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                  <i className=\"bi bi-sun\"></i>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <i className=\"bi bi-moon\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div\r\n            style={{\r\n              height: \"100vh\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <ReactLoading\r\n              type={\"spin\"}\r\n              color={\"#007bff\"}\r\n              height={50}\r\n              width={50}\r\n            />\r\n            <div\r\n              style={{\r\n                marginTop: \"20px\",\r\n                fontSize: \"16px\",\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              You are not selected to perform...\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewList;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport {  useNavigate } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\n// import \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport ViewList from \"./auction/ViewList\";\r\n\r\nconst Auction = () => {\r\n  const history = useNavigate();\r\n \r\n  const API_URL = process.env.REACT_APP_SERVER_URL;\r\n  const signout = () => {\r\n    sessionStorage.removeItem('token');\r\n    history('/');\r\n  };\r\n  \r\n  useEffect(() => {\r\n    const token = sessionStorage.getItem('token');\r\n    if (!token) {     // If there is no token, the user is not authenticated, so you can redirect them to the desired page\r\n      history('/');\r\n    } else {\r\n      history('/auction');\r\n    }\r\n  }, []);\r\n  \r\n\r\n  // useEffect(() => {\r\n  //   const token = sessionStorage.getItem('token');\r\n  \r\n  //   Axios.get(`${API_URL}/verify`, {\r\n  //     headers: {\r\n  //       Authorization: `Bearer ${token}`\r\n  //     }\r\n  //   })\r\n  //     .then((res) => {\r\n  //       if (res.data.Status === \"Success\") {\r\n  //         history(\"/auction\");\r\n  //       } else {\r\n  //         history(\"/\");\r\n  //       }\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.error(error);\r\n  //     });\r\n  // }, []);\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n       <section className=\"content-header\">\r\n\r\n</section>\r\n      <section className=\"content\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12\">\r\n            <ViewList />\r\n          </div>\r\n        </div>\r\n      </section>\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Auction;\r\n"],"sourceRoot":""}